        :root {
            --bg-dark: #121214;
            --bg-panel: #202024;
            --primary: #8257e6;
            --secondary: #04d361;
            --neon-green: #39ff14;
            --neon-cyan: #00ffff;
            --neon-red: #ff4444;
            --danger: #e83f5b;
            --text: #ffffff;
            --gold: #ffaa00;
            --blue: #4da6ff;
            --gray: #a8a8b3;
            --util: #d633d6;

            /* Cores de Raridade */
            --r-common: #000000;
            --r-rare: #000000;
            --r-legendary: #000000;
            --r-utility: #000000;
            --r-epic: #000000;

            /* Dimens√µes do Tabuleiro (Inalteradas) */
            --board-card-h: 16vh; 
            --board-card-w: 12vh; 

            --hand-card-h: 20vh; 
            --hand-card-w: 13.5vh;

            /* Fontes */
            --font-title: 'Oswald', sans-serif;
            --font-body: 'Roboto Condensed', sans-serif;

            --ui-glow: rgba(130, 87, 230, 0.35);
            --ui-glow-strong: rgba(130, 87, 230, 0.6);
            --shadow-deep: 0 18px 35px rgba(0,0,0,0.65);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font-body); user-select: none; }

        body {
            background-color: var(--bg-dark);
            color: var(--text);
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        /* --- TELAS E NAVEGA√á√ÉO --- */
        .screen-section {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0; display: none; flex-direction: column;
        }

        /* --- MENU PRINCIPAL --- */
#main-menu {
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://i.postimg.cc/4NZ7SBT2/z-Fundo.png'); 
            background-size: cover; background-position: center; justify-content: center; align-items: center; z-index: 10;
        }
        .menu-container {
            display: flex; flex-direction: column; gap: 2vh; width: 40vh; background: rgba(32, 32, 36, 0.9); padding: 4vh; border: 1px solid #444; border-radius: 1vh; box-shadow: 0 0 50px rgba(0,0,0,0.8); backdrop-filter: blur(10px);
        }
        .game-logo {
            font-family: var(--font-title); font-size: 6vh; color: var(--primary); text-align: center; margin-bottom: 2vh; text-shadow: 0 0 20px rgba(130, 87, 230, 0.6); letter-spacing: 2px;
        }
        .menu-btn {
            padding: 2vh; font-family: var(--font-title); font-size: 2vh; background: transparent; border: 1px solid #555; color: #fff; cursor: pointer; transition: all 0.3s; text-transform: uppercase; letter-spacing: 1px;
        }
        .menu-btn:hover:not(:disabled) {
            background: var(--primary); border-color: var(--primary); transform: scale(1.05); box-shadow: 0 0 15px rgba(130, 87, 230, 0.4);
        }
.menu-btn:disabled { color: #555; border-color: #333; cursor: not-allowed; background: rgba(0,0,0,0.2); }

        /* --- LOBBY --- */
        #lobby-screen, #room-screen {
            background: #121214;
            justify-content: center;
            align-items: center;
            z-index: 15;
        }
        .lobby-room-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1vh;
            border: 1px solid #333;
            margin-bottom: 1vh;
            background: #202024;
        }
        .lobby-room-entry span {
            font-size: 1.8vh;
        }

        /* --- DECK BUILDER --- */
        #deck-builder-screen { background: #121214; padding: 2vh; z-index: 20; position: relative; }
        .builder-header { display: flex; justify-content: space-between; align-items: center; height: 10vh; border-bottom: 1px solid #333; padding: 0 2vh; background: #202024; }
        .builder-title { font-family: var(--font-title); font-size: 3.5vh; color: #fff; }
        .builder-controls { display: flex; gap: 2vh; align-items: center; }
        .deck-counter { font-family: 'Courier New', monospace; font-size: 2.5vh; color: #fff; padding: 1vh 2vh; background: #000; border: 1px solid #444; border-radius: 4px; }

        /* --- BUILDER OVERLAY (NEW) --- */
        #builder-overlay {
            position: absolute; /* Relative to deck-builder-screen */
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); 
            z-index: 3000; 
            display: none; 
            justify-content: center; 
            align-items: center;
            backdrop-filter: blur(5px);
        }

        /* --- FILTER BAR --- */
        .filter-bar {
            display: flex;
            align-items: center;
            gap: 1.5vh;
            padding: 1vh 2vh;
            background: #202024;
            border-bottom: 1px solid #333;
            height: 8vh;
        }
        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5vh;
        }
        .filter-label {
            font-family: var(--font-title);
            font-size: 1.2vh;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .filter-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        .filter-icon-search {
            position: absolute;
            left: 1vh;
            color: #666;
            font-size: 1.5vh;
            pointer-events: none;
        }
        .filter-input, .filter-select {
            background: #121214;
            border: 1px solid #444;
            color: #fff;
            padding: 0.8vh 1vh;
            padding-left: 3vh; /* space for icon in input */
            border-radius: 0.5vh;
            font-family: var(--font-body);
            font-size: 1.6vh;
            outline: none;
            min-width: 15vh;
            transition: border 0.2s;
        }
        .filter-select {
            padding-left: 1vh; /* reset for select */
            cursor: pointer;
        }
        .filter-input:focus, .filter-select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 5px rgba(130, 87, 230, 0.3);
        }


        /* --- DECK BUILDER / INVENT√ÅRIO (UX VISUAL) --- */
        #deck-builder-screen #builder-grid{
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(16vh, 1fr));
            gap: 1.5vh;

            /* Espa√ßo extra no topo para a 1¬™ linha crescer (scale 1.5) sem ficar atr√°s da filter-bar */
            padding: 8vh 3vh 3vh 3vh;

            overflow-y: auto;
            overflow-x: visible; /* permite o grow sem cortar */
            align-content: flex-start;
            height: calc(100% - 18vh);
            position: relative;
        }

        #deck-builder-screen .builder-card-slot{
            position: relative;
            aspect-ratio: 0.75;
            cursor: default;
            transform-origin: center center;
            transition: transform 180ms ease, filter 180ms ease;
            will-change: transform;
            z-index: 1;
        }

        /* Grow no hover: 50% (somente Deck Builder) */
        @media (hover: hover) {
            #deck-builder-screen .builder-card-slot:hover{
                transform: scale(1.5);
                z-index: 60; /* acima das demais cartas */
                filter: drop-shadow(0 10px 18px rgba(0,0,0,0.65));
            }
        }

        #deck-builder-screen .builder-card-visual{
            width: 100%;
            height: 100%;
            transform-origin: center center;
            border-radius: 1vh;
            overflow: hidden; /* garante overlay alinhado √† carta */
        }

        #deck-builder-screen .builder-card-visual .card{
            width: 100% !important;
            height: 100% !important;
            transform: none !important;
            pointer-events: none;
            margin: 0;
        }

        #deck-builder-screen .card-quantity-badge{
            position: absolute;
            top: -1vh;
            right: -1vh;
            width: 3.5vh;
            height: 3.5vh;
            background: var(--secondary);
            color: #000;
            font-weight: bold;
            font-family: var(--font-title);
            font-size: 2vh;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 2px solid #fff;
            z-index: 70;
            box-shadow: 0 2px 5px rgba(0,0,0,0.8);
        }

        /* --- BOT√ïES SOBRE A CARTA (HOVER ACTIONS) --- */
        #deck-builder-screen .builder-hover-actions{
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.6vh;
            padding: 0.6vh;
            background: transparent;
            backdrop-filter: none;
            border-top-left-radius: 1vh;
            border-top-right-radius: 1vh;
            opacity: 0;
            pointer-events: none;
            transform: translateY(-0.3vh);
            transition: opacity 160ms ease, transform 160ms ease;
            z-index: 65; /* acima da carta */
        }

        @media (hover: hover) {
            #deck-builder-screen .builder-card-slot:hover .builder-hover-actions{
                opacity: 1;
                pointer-events: auto;
                transform: translateY(0);
            }
        }

        /* Mobile/Touch (sem hover): a√ß√µes sempre vis√≠veis no topo e compactas */
        @media (hover: none) {
            #deck-builder-screen .builder-hover-actions{
                opacity: 1;
                pointer-events: auto;
                transform: none;
                background: transparent;
            }
        }}

        #deck-builder-screen .builder-hover-actions .builder-action-btn{
            pointer-events: auto; /* reabilita clique apenas nos bot√µes */
        }

        /* Mobile/Touch (sem hover): a√ß√µes sempre vis√≠veis e sem grow agressivo */
        @media (hover: none) {
            #deck-builder-screen .builder-hover-actions{
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.6vh;
            padding: 0.6vh;
            background: rgba(0,0,0,0.55);
            backdrop-filter: blur(2px);
            border-top-left-radius: 1vh;
            border-top-right-radius: 1vh;
            opacity: 0;
            pointer-events: none;
            transform: translateY(-0.3vh);
            transition: opacity 160ms ease, transform 160ms ease;
            z-index: 65; /* acima da carta */
        }

        @media (hover: hover) {
            #deck-builder-screen .builder-card-slot:hover .builder-hover-actions{
                opacity: 1;
                pointer-events: auto;
                transform: translateY(0);
            }
        }

        /* Mobile/Touch (sem hover): a√ß√µes sempre vis√≠veis no topo e compactas */
        @media (hover: none) {
            #deck-builder-screen .builder-hover-actions{
                opacity: 1;
                pointer-events: auto;
                transform: none;
                background: rgba(0,0,0,0.28);
            }
        }#deck-builder-screen .builder-card-slot{
                transform: none; /* evita zoom/bug de layout em touch */
            }
        }

        #deck-builder-screen .builder-action-btn{
            width: 100%;
            min-width: 0;
            padding: 0.55vh 0.4vh;
            font-family: var(--font-title);
            font-size: 1.25vh;
            line-height: 1;
            border: 1px solid rgba(255,255,255,0.85);
            border-radius: 0.7vh;
            cursor: pointer;
            text-transform: uppercase;
            color: #fff;
            transition: transform 120ms ease, filter 120ms ease;
            font-weight: 700;
            box-shadow: 0 2px 8px rgba(0,0,0,0.45);
        }

        #deck-builder-screen .btn-b-select{
            background: var(--secondary);
            border-color: var(--secondary);
            color: #000;
        }

        #deck-builder-screen .btn-b-view{
            background: var(--primary);
            border-color: var(--primary);
        }

        @media (hover: hover) {
            #deck-builder-screen .btn-b-select:hover,
            #deck-builder-screen .btn-b-view:hover{
                filter: brightness(1.15);
                transform: translateY(-1px) scale(1.05);
            }
        }

/* --- GAME VIEW --- */
        #game-view { z-index: 5; }
        body.cursor-sword { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="%23ff4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 17.5L3 6V3h3l11.5 11.5"/><path d="M13 19l6-6"/><path d="M16 16l4 4"/><path d="M19 21l2-2"/></svg>') 16 16, crosshair !important; }
        #game-container { display: flex; flex-direction: column; height: 100vh; width: 100vw; position: relative; justify-content: space-between; transition: filter 0.3s ease; overflow: hidden; }
        .blur-background { filter: blur(8px) brightness(0.5); pointer-events: none; }

        /* Logs e Huds */
        .battle-log { position: absolute; top: 10vh; bottom: 30vh; width: min(36vw, 56vh); min-width: 24vw; background: rgba(0, 0, 0, 0.7); padding: 1vh; overflow-y: auto; font-size: 2vh; font-family: 'Courier New', monospace; z-index: 40; border-radius: 0.5vh; display: flex; flex-direction: column; pointer-events: auto; max-height: calc(100vh - 40vh); }
        #log-player { left: 2vh; border-left: 2px solid var(--secondary); }
        .info-panel {
            position: absolute;
            top: 1vh;
            bottom: 0vh;
            right: 2vh;
            width: min(36vw, 56vh);
            min-width: 24vw;
            background: rgba(20, 20, 24, 0.92);
            border: 1px solid #333;
            border-radius: 0.8vh;
            padding: 1.5vh;
            display: flex;
            flex-direction: column;
            gap: 1.5vh;
            z-index: 40;
            overflow-y: auto;
            pointer-events: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.45);
        }
        .info-panel-placeholder {
            color: #888;
            font-size: 1.8vh;
            line-height: 1.4;
        }
        .info-panel-header {
            display: flex;
            gap: 1.5vh;
            align-items: flex-start;
        }
        .info-card-preview {
            flex: 0 0 auto;
            pointer-events: none;
        }
        .info-card-preview .card {
            width: calc(var(--hand-card-w) * 1.25);
            height: calc(var(--hand-card-h) * 1.25);
            transform: none;
            pointer-events: none;
        }
        .info-panel-details {
            display: flex;
            flex-direction: column;
            gap: 1.2vh;
            flex: 1;
        }
        .info-panel-title {
            font-family: var(--font-title);
            font-size: 2vh;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #fff;
        }
        .info-panel-title.ult {
            color: var(--util);
        }
        .info-panel-text {
            font-size: 1.7vh;
            color: #dcdce2;
            line-height: 1.35;
        }
        .info-panel-divider {
            border: none;
            border-top: 1px solid #333;
            margin: 0;
        }
        .info-status-title {
            font-family: var(--font-title);
            font-size: 1.8vh;
            text-transform: uppercase;
            color: #ccc;
        }
        .info-status-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.8vh;
            margin-top: 0.6vh;
        }
        .info-status-item {
            font-size: 1.6vh;
            color: #e1e1e6;
            line-height: 1.3;
        }
        .log-entry { margin-bottom: 0.8vh; padding-bottom: 0.4vh; border-bottom: 1px solid rgba(255,255,255,0.1); opacity: 0; animation: fadeIn 0.3s forwards; line-height: 1.3; font-size: inherit; }
        .log-entry span { font-weight: bold; }
        @keyframes fadeIn { to { opacity: 1; } }

        /* M√£o Oponente */
        .opponent-hand { height: 10vh; flex-shrink: 0; background: rgba(0,0,0,0.3); display: flex; justify-content: center; align-items: center; position: relative; z-index: 50; width: 100%; }
        .opponent-hand .card { width: var(--board-card-w); height: var(--board-card-h); transform: scale(0.5); margin: 0 -2vh; background: #111 !important; border: 1px solid #000 !important; box-shadow: none !important; }
        .opponent-hand .card .card-inner { border: none !important; box-shadow: none !important; }
        .opponent-hand .card .card-inner.deck-visual { width: 100%; height: 100%; border-radius: 0.6vh; background: repeating-linear-gradient(45deg, #1a1a1a, #1a1a1a 10px, #222 10px, #222 20px) !important; }

        /* Tabuleiro */
        #battlefield { flex: 1; display: flex; justify-content: center; align-items: center; gap: 0.5vh; padding-top: 3vh; background:
            radial-gradient(circle at 50% 40%, rgba(80, 120, 255, 0.12), transparent 55%),
            radial-gradient(circle at 20% 80%, rgba(4, 211, 97, 0.12), transparent 60%),
            linear-gradient(135deg, rgba(255,255,255,0.04) 0%, rgba(255,255,255,0) 45%),
            radial-gradient(circle at center, #2a2a30 0%, #09090a 100%);
            position: relative; z-index: 10; overflow: hidden; }
        #battlefield::before {
            content: "";
            position: absolute;
            inset: 0;
            background:
                repeating-linear-gradient(45deg, rgba(255,255,255,0.02), rgba(255,255,255,0.02) 6px, rgba(255,255,255,0.01) 6px, rgba(255,255,255,0.01) 12px);
            opacity: 0.4;
            pointer-events: none;
        }
        #battlefield::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(0,0,0,0) 45%, rgba(0,0,0,0.75) 100%);
            pointer-events: none;
        }
        .side-panel { width: 10vh; height: 100%; display: flex; flex-direction: column; justify-content: center; padding-top: 0; gap: 2vh; margin-right: 2vh; margin-left: 0vh; transform: translateY(-1.5vh); }
        .deck, .graveyard { width: var(--board-card-w); height: var(--board-card-h); border: 1px solid #555; border-radius: 0.8vh; display: flex; justify-content: center; align-items: center; font-family: var(--font-title); font-size: var(--font-sm); background: rgba(255,255,255,0.05); color: #888; transform: scale(0.9); }
        .deck-visual { background: repeating-linear-gradient(45deg, #1a1a1a, #1a1a1a 10px, #222 10px, #222 20px), linear-gradient(to bottom, #333, #000); border: 1px solid #666; box-shadow: 1px 1px 0 #333, 2px 2px 0 #222, 3px 3px 0 #333, 4px 4px 0 #222, 0 0 15px rgba(0,0,0,0.8); cursor: pointer; }
        .deck-draw-mode { border: 2px solid var(--gold); box-shadow: 0 0 18px rgba(255, 170, 0, 0.7); animation: deckPulse 1.1s ease-in-out infinite; cursor: pointer; }
        @keyframes deckPulse {
            0%, 100% { transform: scale(0.9); filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.6)); }
            50% { transform: scale(0.98); filter: drop-shadow(0 0 14px rgba(255, 215, 0, 0.9)); }
        }
        .graveyard-filled { background: repeating-linear-gradient(45deg, #1a1a1a, #1a1a1a 10px, #222 10px, #222 20px), linear-gradient(to bottom, #333, #000); border: 1px solid #555; }
        .graveyard-filled::after { content: "X"; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 8vh; color: rgba(255, 0, 0, 0.7); font-weight: bold; }
        .graveyard { cursor: pointer; }

        /* --- Graveyard Overlay --- */
        #graveyard-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(10, 10, 15, 0.55);
            backdrop-filter: blur(6px);
            z-index: 5000;
        }
        /* --- L-16 Overlays --- */
        #dice-overlay,
        #suit-overlay {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 6200;
        }
        #dice-overlay {
            pointer-events: none;
        }
        .dice-roll {
            width: 14vh;
            height: 14vh;
            border-radius: 2vh;
            background: rgba(20, 20, 30, 0.95);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 30px rgba(130, 87, 230, 0.5);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.6vh;
            animation: dicePop 0.6s ease-out;
        }
        .dice-icon {
            font-size: 4vh;
        }
        .dice-number {
            font-family: var(--font-title);
            font-size: 4.4vh;
            color: var(--gold);
            text-shadow: 0 0 12px rgba(255, 215, 0, 0.6);
        }
        @keyframes dicePop {
            0% { transform: scale(0.6) rotate(-10deg); opacity: 0; }
            60% { transform: scale(1.1) rotate(6deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        #suit-overlay {
            background: rgba(10, 10, 15, 0.55);
            backdrop-filter: blur(6px);
            pointer-events: auto;
        }
        .suit-modal {
            background: rgba(18, 18, 24, 0.95);
            border: 1px solid #444;
            border-radius: 2vh;
            padding: 3vh 4vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2vh;
            box-shadow: 0 0 35px rgba(0,0,0,0.7);
        }
        .suit-title {
            font-family: var(--font-title);
            font-size: 2.2vh;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .suit-hand {
            display: flex;
            gap: 2vh;
            position: relative;
        }
        .suit-card {
            width: 10vh;
            height: 14vh;
            border-radius: 1.2vh;
            background: linear-gradient(135deg, #2a2a35, #1b1b24);
            border: 2px solid rgba(255,255,255,0.15);
            box-shadow: 0 8px 20px rgba(0,0,0,0.5);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4vh;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .suit-card:hover {
            transform: translateY(-0.6vh) scale(1.05);
            box-shadow: 0 12px 24px rgba(0,0,0,0.7);
        }
        .suit-card.revealed {
            background: linear-gradient(135deg, #14141c, #2a2a35);
            border-color: rgba(255,255,255,0.35);
        }
        .suit-hand-icon {
            position: absolute;
            top: -2.5vh;
            right: -2vh;
            font-size: 2.6vh;
            animation: handWave 1.1s ease-in-out infinite;
        }
        @keyframes handWave {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-0.6vh); }
        }
        .graveyard-modal {
            width: min(120vh, 92vw);
            max-height: 82vh;
            background: rgba(20, 20, 26, 0.95);
            border: 1px solid #444;
            border-radius: 1.2vh;
            padding: 2vh;
            box-shadow: 0 0 40px rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            gap: 1.5vh;
        }
        .graveyard-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2vh;
        }
        .graveyard-modal-title {
            font-family: var(--font-title);
            font-size: 2.4vh;
            text-transform: uppercase;
        }
        .graveyard-modal-actions {
            display: flex;
            gap: 1vh;
        }
        .graveyard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(var(--board-card-w), 1fr));
            gap: 1.5vh;
            overflow-y: auto;
            padding-right: 0.5vh;
        }
        .graveyard-grid .card {
            width: var(--board-card-w);
            height: var(--board-card-h);
            margin: 0;
            cursor: pointer;
        }
        .graveyard-card-disabled {
            opacity: 0.35;
            filter: grayscale(0.8);
            cursor: not-allowed;
        }
        .graveyard-card-eligible {
            outline: 2px solid #39ff14;
            box-shadow: 0 0 12px rgba(57, 255, 20, 0.4);
        }
        .graveyard-section-title {
            font-family: var(--font-title);
            font-size: 1.7vh;
            color: var(--gray);
            text-transform: uppercase;
            margin-bottom: 0.5vh;
        }
        #board-grid { display: grid; grid-template-rows: repeat(4, 1fr); gap: 0.8vh; width: auto; max-width: 95vw; max-height: 55vh; aspect-ratio: 5/4; margin: 0; transform: translateY(-8vh); }
        .row { display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.5vh; padding: 0.2vh; border-radius: 0.5vh; }
        .slot { display: flex; justify-content: center; align-items: center; transition: all 0.2s; position: relative; width: var(--board-card-w); height: var(--board-card-h); border-radius: 0.8vh; background: rgba(0,0,0,0.2); box-shadow: inset 0 0 10px #000, 0 6px 18px rgba(0,0,0,0.35); }
        #row-0 .slot { border: 1px solid rgba(255, 0, 0, 0.2); }
        #row-1 .slot { border: 1px solid rgba(255, 0, 0, 0.4); background: rgba(255,0,0,0.05); }
        #row-2 .slot { border: 1px solid rgba(0, 255, 255, 0.4); background: rgba(0,255,255,0.05); }
        #row-3 .slot { border: 1px solid rgba(0, 255, 255, 0.2); }
        .slot:hover { border-color: #fff; }
        .slot.valid-summon-zone,
        .slot.valid-target-zone {
            animation: slotPulse 1.2s ease-in-out infinite;
            background: rgba(0, 255, 255, 0.08);
        }
        @keyframes slotPulse {
            0%, 100% { box-shadow: inset 0 0 12px rgba(0,255,255,0.25), 0 0 12px rgba(0,255,255,0.25); }
            50% { box-shadow: inset 0 0 16px rgba(255,255,255,0.35), 0 0 16px rgba(0,255,255,0.45); }
        }

        /* M√£o Jogador */
        .player-hand { height: 21vh; flex-shrink: 0; background: linear-gradient(to top, #09090a 10%, transparent); display: flex; justify-content: center; align-items: flex-end; padding-bottom: 0.5vh; gap: -2vh; position: relative; z-index: 100; }
        .player-hand .card { width: var(--hand-card-w); height: var(--hand-card-h); margin: 0 -2.5vh; transform-origin: bottom center; transition: transform 0.25s cubic-bezier(0.2, 0.8, 0.2, 1), margin 0.2s, box-shadow 0.2s; position: relative; perspective: 900px; }
        .player-hand .card:nth-child(1) { z-index: 20; } .player-hand .card:nth-child(2) { z-index: 19; } .player-hand .card:nth-child(3) { z-index: 18; } .player-hand .card:nth-child(4) { z-index: 17; } .player-hand .card:nth-child(5) { z-index: 16; } .player-hand .card:nth-child(6) { z-index: 15; } .player-hand .card:nth-child(7) { z-index: 14; } .player-hand .card:nth-child(8) { z-index: 13; } .player-hand .card:nth-child(9) { z-index: 12; } .player-hand .card:nth-child(10) { z-index: 11; }
        .player-hand .card:hover {
            transform: scale(1.75);
            z-index: 100 !important;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }

        /* Visual da Carta Pequena (Normal) */
        .card { overflow: visible !important; border-radius: 1vh; position: relative; background: #1a1a1c !important; display: flex; flex-direction: column; cursor: pointer; transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, filter 0.2s ease-in-out; box-shadow: 0 4px 10px rgba(0,0,0,0.5) !important; padding: 0.4vh; border: none !important; transform-style: preserve-3d; }
        .card.fx-press .card-inner { transform: rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) scale(0.97); }
        .slot .card { width: 100%; height: 100%; transform: scale(1); z-index: 10; }
        .slot .card:hover { transform: scale(1.55); z-index: 999 !important; box-shadow: 0 20px 40px rgba(0,0,0,0.95); }
        .card-inner { position: relative; width: 100%; height: 100%; background: #202024; border-radius: 0.6vh; overflow: hidden; display: flex; flex-direction: column; font-weight: 700; letter-spacing: 0.5px; transform-style: preserve-3d; transition: transform 0.15s ease; }
        .card.fx-tilt .card-inner {
            transform: rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) translateZ(0);
        }
        /* Remover completamente qualquer overlay de brilho no hover */
        .card .fx-card-overlay {
            display: none !important;
        }
        .card::before,
        .card::after,
        .card-inner::before,
        .card-inner::after,
        .card-art-frame::before,
        .card-art-frame::after,
        .hand-card::before,
        .hand-card::after,
        .board-card::before,
        .board-card::after,
        .inventory-card::before,
        .inventory-card::after,
        .deck-card::before,
        .deck-card::after,
        .card-frame::before,
        .card-frame::after,
        .card-art::before,
        .card-art::after,
        .card-image::before,
        .card-image::after,
        .card-wrap::before,
        .card-wrap::after,
        .card-container::before,
        .card-container::after,
        .slot-card::before,
        .slot-card::after,
        .tcg-card::before,
        .tcg-card::after,
        .builder-card-visual::before,
        .builder-card-visual::after,
        .arena-card-display::before,
        .arena-card-display::after {
            content: none !important;
            display: none !important;
            background: transparent !important;
            opacity: 0 !important;
        }
        .card .overlay,
        .card .hover-overlay,
        .card .shine,
        .card .gloss,
        .card .rarity-layer,
        .card .fx-layer,
        .card .card-filter,
        .card .card-tint,
        .hand-card .overlay,
        .board-card .overlay,
        .inventory-card .overlay,
        .deck-card .overlay,
        .slot-card .overlay,
        .builder-card-visual .overlay,
        .arena-card-display .overlay {
            display: none !important;
        }
        .card-art-frame {
            z-index: 5;
        }
        .card-img {
            position: relative;
            z-index: 6;
        }
        .card.common { background: linear-gradient(to bottom, #444, #222) !important; }
        .card.common .card-inner { border: 3px solid var(--r-common); }
        .card.common .card-top-header, .card.common .card-info-box { background: linear-gradient(90deg, #333, #555, #333); color: #fff; border-bottom: 1px solid var(--r-common); }
        .card.common .card-info-box { border-bottom: none; border-top: 1px solid var(--r-common); }
        .card.rare { background: linear-gradient(to bottom, #966700, #4a3400) !important; }
        .card.rare .card-inner { border: 3px solid var(--r-rare); box-shadow: inset 0 0 10px rgba(255, 170, 0, 0.3); }
        .card.rare .card-top-header, .card.rare .card-info-box { background: linear-gradient(90deg, #b37700, #e69900, #b37700); color: #fff; border-bottom: 1px solid var(--r-rare); }
        .card.rare .card-info-box { border-bottom: none; border-top: 1px solid var(--r-rare); }
        .card.legendary { background: linear-gradient(to bottom, #FFD700, #FFD700) !important; }
        .card.legendary .card-inner { border: 3px solid var(--r-legendary); box-shadow: inset 0 0 15px rgba(0, 255, 255, 0.4); }
        .card.legendary .card-top-header, .card.legendary .card-info-box { background: linear-gradient(30deg, #FFD700, #EEE8AA, #FFD700); color: #000; font-weight: 900; border-bottom: 1px solid var(--r-legendary); }
        .card.legendary .card-info-box { border-bottom: none; border-top: 1px solid var(--r-legendary); }
        .card.utility { background: linear-gradient(to bottom, #800080, #3a003a) !important; }
        .card.utility .card-inner { border: 3px solid var(--r-utility); }
        .card.utility .card-top-header, .card.utility .card-info-box { background: linear-gradient(90deg, #990099, #d633d6, #990099); color: #fff; border-bottom: 1px solid var(--r-utility); }
        .card.utility .card-info-box { border-bottom: none; border-top: 1px solid var(--r-utility); }

        .card-top-header { position: absolute; top: 0; left: 0; width: 100%; height: 15%; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; box-shadow: 0 2px 5px rgba(0,0,0,0.5); }
        .card-name { font-family: var(--font-title); font-size: 1.28vh; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 90%; text-align: center; line-height: 1.1; text-shadow: none; font-weight: 700; }
        /* Visual da Carta √âpica */
        .card.epic { background: linear-gradient(to bottom, #00FFFF, #00FFFF) !important; }
        .card.epic .card-inner { border: 3px solid var(--r-epic); box-shadow: 0 0 10px rgba(156, 39, 176, 0.4); }
        .card.epic .card-top-header, .card.epic .card-info-box { 
            background: linear-gradient(30deg, #00FFFF, #00CED1, #E0FFFF); 
            color: #000000; 
            border-bottom: 1px solid var(--r-epic); 
        }
        .card.epic .card-info-box { border-bottom: none; border-top: 1px solid var(--r-epic); }

        /* Container Lateral para Estrelas e PA */
        .card-side-indicators {
            position: absolute;
            top: 16%;
            right: 0vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5vh;
            z-index: 30;
            pointer-events: none;
        }

        /* Estrelas Verticais */
        .card-stars-vertical { 
            font-size: 0.75vh;
            color: #ffd700; 
            text-shadow: 1px 1px 0 #000; 
            margin-bottom: 0.5vh;
            letter-spacing: -2px;
            writing-mode: vertical-rl;
            text-orientation: upright;
            font-weight: bold;
        }

        /* PA Badge */
        .card-pa-badge { 
            position: static !important;
            width: 1.9vh;
            height: 1.9vh; 
            border-radius: 50%; 
            background: #000000; 
            border: 2px solid #707bf7; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            line-height: 0;
            font-family: var(--font-title); 
            font-weight: bold; 
            font-size: 1.1vh; 
            color: #FFD700 !important;
            text-shadow: none; 
            box-shadow: 0 0 5px rgba(0,0,0,0.8); 
        }
        .card-status-badges {
            position: absolute;
            top: 0.4vh;
            left: 0.4vh;
            display: flex;
            flex-direction: column;
            gap: 0.4vh;
            z-index: 40;
            pointer-events: none;
        }
        .card-badge {
            min-width: 2.2vh;
            height: 2.2vh;
            padding: 0 0.4vh;
            border-radius: 0.6vh;
            background: rgba(20, 20, 30, 0.9);
            border: 1px solid rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3vh;
            font-weight: 700;
            color: #fff;
            box-shadow: 0 0 8px rgba(0,0,0,0.5);
        }
        .card-badge.dice {
            color: var(--gold);
        }
        .card-badge.suit {
            color: var(--neon-cyan);
        }
        .card-badge.runa {
            background: rgba(214, 51, 214, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.5);
            color: #fff;
            font-size: 1.3vh;
        }
        .hand-steal-mode .card {
            box-shadow: 0 0 18px rgba(255, 215, 0, 0.6);
            animation: targetPulse 1.2s infinite;
            cursor: pointer;
        }
        .graveyard-select-mode {
            box-shadow: 0 0 18px rgba(255, 215, 0, 0.6);
            animation: targetPulse 1.2s infinite;
            cursor: pointer;
            border-color: #ffd700;
        }

        /* Ajuste para slot (tabuleiro) */
        .slot .card-pa-badge {
            width: 1.6vh;
            height: 1.6vh;
            font-size: 0.8vh;
        }

        /* --- NOVO: √çcone de Arqu√©tipo --- */
        .archetype-icon {
            position: absolute;
            top: 0.4vh;
            left: 0.2vh;
            width: 2.5vh; /* Tamanho base (M√£o) */
            height: 2.5vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 25; /* Acima da arte */
        }

        /* SVG interno do √≠cone */
        .archetype-icon img {
            width: 75%; 
            height: 75%;
            object-fit: contain;
            border-radius: 50%;
        }

        /* Escala no Tabuleiro (Slot): +25% */
        .slot .archetype-icon {
            transform: scale(1.25);
            transform-origin: top left;
        }

        /* Escala no Modal: +100% (Dobro) */
        .modal-visual-card .archetype-icon {
            transform: scale(3.0);
            transform-origin: top left;
            top: 12vh;
            left: 1.5vh;
        }
        /* ------------------------------- */

        .card-art-frame { position: absolute; top: 15%; left: 0; width: 100%; height: 70%; background: #000; overflow: hidden; }
        .card-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .card:hover .card-img { transform: scale(1.1); }

        .card-info-box { position: absolute; top: 75%; left: 0; width: 100%; height: 12%; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 77; }
        .card-tribe { font-size: 1.4vh; text-transform: uppercase; font-weight: 800; color: inherit; padding-left: 0vh; }
        .card-desc { display: none; }
        .card-footer-stats { position: absolute; bottom: 0; left: 0; width: 100%; height: 15%; background: #000; display: flex; justify-content: space-evenly; align-items: center; border-top: 0.5px solid #000000; z-index: 20; }
        .stat-item { display: flex; align-items: center; gap: 0.3vh; font-family: var(--font-title); font-size: 1.4vh; font-weight: 800; text-shadow: none; }
        .stat-icon { font-size: 1.2vh; }
        .stat-atk { color: #ffffff !important; } .stat-hp { color: #ff3333 !important; } .stat-def { color: #006400 !important; }
        .slot .card-name { font-size: 1.3vh; text-align: center; width: 100%; }

        .slot .card-art-frame { height: 62%; top: 15%; }
        .slot .card-footer-stats { height: 23%; bottom: 0; background: rgba(0,0,0,0.95); align-items: flex-end; padding-bottom: 0.5vh; }
        .slot .stat-item { flex-direction: column; font-size: 1.4vh; line-height: 0.9; }
        .slot .stat-icon { font-size: 1.2vh; margin-bottom: 0.2vh; }
        .slot .card-info-box { display: none; }

        .external-hp-bar { position: absolute; bottom: -0.6vh; left: 10%; width: 80%; height: 0.6vh; background: #333; border: 1px solid #000; border-radius: 2px; z-index: 25; box-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .external-hp-fill { height: 100%; background: var(--secondary); border-radius: 2px; transition: width 0.3s; }
        .external-shield-bar { position: absolute; bottom: -1.4vh; left: 12%; width: 76%; height: 0.4vh; background: rgba(20, 40, 60, 0.7); border: 1px solid #0b1b2a; border-radius: 2px; z-index: 24; box-shadow: 0 2px 4px rgba(0,0,0,0.5); }
        .external-shield-fill { height: 100%; background: #4da6ff; border-radius: 2px; }
        .shield-indicator {
            position: absolute;
            bottom: 3.8vh;
            right: 0.6vh;
            background: rgba(20, 30, 45, 0.85);
            color: #bfe1ff;
            font-size: 1.2vh;
            padding: 0.2vh 0.6vh;
            border-radius: 0.5vh;
            display: flex;
            align-items: center;
            gap: 0.3vh;
            border: 1px solid rgba(77, 166, 255, 0.6);
            z-index: 26;
        }
        .shield-indicator .shield-icon { font-size: 1.2vh; }
        .necro-label {
            position: absolute;
            top: 16%;
            left: 0.4vh;
            right: 0.4vh;
            text-align: center;
            font-size: 1.1vh;
            color: #d9cfff;
            background: rgba(40, 30, 60, 0.75);
            border: 1px solid rgba(130, 87, 230, 0.6);
            border-radius: 0.5vh;
            padding: 0.2vh 0.4vh;
            z-index: 30;
        }

        .hud-star {
            font-size: 1.25em; 
            vertical-align: middle;
            margin-right: 0.3vh;
        }

        /* --- ANIMA√á√ïES --- */
        @keyframes shake { 0% { transform: translate(0, 0); } 25% { transform: translate(-3px, 0); } 50% { transform: translate(3px, 0); } 75% { transform: translate(-3px, 0); } 100% { transform: translate(0, 0); } }
        .anim-shake { animation: shake 0.4s; }
        @keyframes screenShake { 0% { transform: translate(0, 0); } 10% { transform: translate(-15px, 10px); } 30% { transform: translate(15px, -10px); } 50% { transform: translate(-10px, 5px); } 70% { transform: translate(10px, -5px); } 100% { transform: translate(0, 0); } }
        .screen-shake { animation: screenShake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes fireProjectile { 0% { left: 25%; opacity: 0; transform: translate(-50%, -50%) scale(0.5); } 10% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 90% { opacity: 1; } 100% { left: 75%; opacity: 0; transform: translate(-50%, -50%) scale(1.5); } }
        .projectile-div { position: absolute; top: 50%; left: 25%; border-radius: 50%; pointer-events: none; z-index: 3005; transform: translate(-50%, -50%); }
        .projectile-basic { width: 5vh; height: 5vh; background: radial-gradient(circle, #ffaa00 30%, #ff4400 100%); box-shadow: 0 0 20px #ffaa00; animation: fireProjectile 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
        .projectile-skill { width: 8vh; height: 8vh; background: radial-gradient(circle, #00ffff 20%, #0055ff 100%); box-shadow: 0 0 30px #00ffff; animation: fireProjectile 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
        .projectile-ult { width: 12vh; height: 12vh; background: radial-gradient(circle, #fff 10%, #d633d6 50%, #4b0082 100%); box-shadow: 0 0 50px #d633d6, 0 0 20px #fff; border: 2px solid #fff; animation: fireProjectile 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
        .particle { position: fixed; width: 6px; height: 6px; border-radius: 50%; pointer-events: none; z-index: 9999; animation: explode 0.6s ease-out forwards; }
        @keyframes explode { 0% { transform: translate(0, 0) scale(1); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; } }
        .fx-hit-flash {
            animation: hitFlash 0.25s ease;
        }
        @keyframes hitFlash {
            0% { filter: brightness(1); box-shadow: 0 0 0 rgba(255,255,255,0); }
            50% { filter: brightness(1.6); box-shadow: 0 0 22px rgba(255,255,255,0.7); }
            100% { filter: brightness(1); box-shadow: 0 0 0 rgba(255,255,255,0); }
        }
        .fx-particle {
            position: fixed;
            width: 0.8vh;
            height: 0.8vh;
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,255,255,0));
            box-shadow: 0 0 8px rgba(255,255,255,0.7);
            animation: fxParticle 0.6s ease-out forwards;
        }
        @keyframes fxParticle {
            from { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            to { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0.2); opacity: 0; }
        }
        .fx-trail {
            position: fixed;
            width: 1.2vh;
            height: 1.2vh;
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, rgba(0,255,255,0.85), rgba(0,255,255,0));
            filter: blur(0.2vh);
            animation: fxTrail 0.35s ease-out forwards;
        }
        @keyframes fxTrail {
            from { transform: translate(-50%, -50%) scale(1); opacity: 0.9; }
            to { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0.3); opacity: 0; }
        }
        .fx-ring {
            position: fixed;
            width: 14vh;
            height: 14vh;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.6);
            box-shadow: 0 0 25px rgba(255,255,255,0.6);
            pointer-events: none;
            animation: fxRing 0.45s ease-out forwards;
        }
        @keyframes fxRing {
            from { transform: translate(-50%, -50%) scale(0.3); opacity: 0.9; }
            to { transform: translate(-50%, -50%) scale(1.3); opacity: 0; }
        }
        .fx-heart {
            position: fixed;
            font-size: 2vh;
            pointer-events: none;
            animation: fxHeart 1.1s ease-out forwards;
            filter: drop-shadow(0 0 6px rgba(57,255,20,0.6));
        }
        @keyframes fxHeart {
            from { transform: translate(-50%, -50%) scale(0.8); opacity: 1; }
            to { transform: translate(-50%, -120%) scale(1.2); opacity: 0; }
        }
        .fx-rune {
            position: fixed;
            font-size: 1.8vh;
            pointer-events: none;
            animation: fxRune 0.9s ease-out forwards;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.6);
        }
        @keyframes fxRune {
            from { transform: translate(-50%, -50%) scale(0.8); opacity: 1; }
            to { transform: translate(-50%, -140%) scale(1.1); opacity: 0; }
        }
        .fx-debuff {
            position: fixed;
            width: 1.2vh;
            height: 1.2vh;
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, rgba(179,0,255,0.85), rgba(60,0,80,0));
            animation: fxDebuff 0.7s ease-out forwards;
        }
        @keyframes fxDebuff {
            from { transform: translate(-50%, -50%) scale(0.9); opacity: 1; }
            to { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(0.1); opacity: 0; }
        }
        .fx-card-overlay {
            position: absolute;
            inset: 0;
            border-radius: 1vh;
            pointer-events: none;
            mix-blend-mode: screen;
        }
        .fx-intercept::before,
        .fx-pacifist::before {
            content: "";
            position: absolute;
            inset: -0.2vh;
            border-radius: 1vh;
            pointer-events: none;
            border: 1px dashed rgba(180, 200, 255, 0.7);
            box-shadow: 0 0 10px rgba(180,200,255,0.35);
        }
        .fx-intercept::after {
            content: "‚õìÔ∏è";
            position: absolute;
            right: 0.4vh;
            top: 0.4vh;
            font-size: 1.5vh;
            filter: drop-shadow(0 0 6px rgba(200,200,255,0.7));
        }
        .fx-pacifist::after {
            content: "üïäÔ∏è";
            position: absolute;
            right: 0.4vh;
            top: 0.4vh;
            font-size: 1.5vh;
            filter: drop-shadow(0 0 6px rgba(200,200,255,0.7));
        }
        .fx-buff { box-shadow: 0 0 14px rgba(57,255,20,0.35) !important; }
        .fx-debuffed { box-shadow: 0 0 16px rgba(179,0,255,0.35) !important; filter: saturate(0.9); }
        .fx-screen-shake {
            animation: screenShakeSoft 0.35s ease;
        }
        @keyframes screenShakeSoft {
            0% { transform: translate(0); }
            20% { transform: translate(-6px, 3px); }
            40% { transform: translate(5px, -4px); }
            60% { transform: translate(-3px, 5px); }
            80% { transform: translate(4px, -2px); }
            100% { transform: translate(0); }
        }
        .fx-ult-impact {
            animation: ultImpact 0.3s ease;
        }
        @keyframes ultImpact {
            0% { filter: blur(0px) brightness(1); }
            40% { filter: blur(2px) brightness(1.25); }
            100% { filter: blur(0px) brightness(1); }
        }
        @keyframes targetPulse { 0% { box-shadow: inset 0 0 10px #ffd700; border-color: #ffd700; } 50% { box-shadow: inset 0 0 30px #ffd700, 0 0 10px #ffd700; border-color: #fff; background: rgba(255, 215, 0, 0.2); } 100% { box-shadow: inset 0 0 10px #ffd700; border-color: #ffd700; } }
        .slot.valid-summon-zone { box-shadow: inset 0 0 20px var(--neon-green), 0 0 16px rgba(57,255,20,0.35); border: 1px dashed var(--neon-green) !important; cursor: pointer !important; z-index: 1000 !important; pointer-events: auto !important; }
        .slot.valid-target-zone { animation: targetPulse 1.2s infinite; border: 2px dashed #ffd700 !important; cursor: crosshair !important; z-index: 1000 !important; pointer-events: auto !important; }
        .flying-card { position: fixed; z-index: 9999; pointer-events: none; transition: top 0.6s ease-in-out, left 0.6s ease-in-out, transform 0.6s ease-in-out, opacity 0.6s; box-shadow: 0 0 30px rgba(255, 255, 255, 0.3); }
        #overlay, #rps-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: none; justify-content: center; align-items: center; z-index: 2000; backdrop-filter: blur(0px); }
        #overlay.overlay-open, #rps-overlay.overlay-open, #builder-overlay.overlay-open {
            animation: overlayFadeIn 0.25s ease forwards;
        }
        #overlay.overlay-open .modal-card,
        #builder-overlay.overlay-open .modal-card {
            animation: modalPop 0.25s ease forwards;
        }
        @keyframes overlayFadeIn {
            from { opacity: 0; backdrop-filter: blur(0px); }
            to { opacity: 1; backdrop-filter: blur(6px); }
        }
        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.92); filter: blur(6px); }
            to { opacity: 1; transform: scale(1); filter: blur(0); }
        }

        .modal-card { 
            display: flex; 
            flex-direction: row; 
            align-items: center; 
            gap: 2vh; 
            width: auto; 
            max-width: 98vw; 
            background: transparent; 
            border: none; 
            padding: 0; 
            z-index: 2001; 
        }

        .modal-visual-card { 
            width: 65.31vh; 
            height: 85vh; 
            border-radius: 3vh; 
            position: relative; 
            display: flex; 
            flex-direction: column; 
            padding: 0.8vh; 
            box-shadow: 0 0 50px rgba(0,0,0,0.95); 
            overflow: hidden; 
            transform: translateY(-7vh);
        }

        .modal-visual-card.common { background: linear-gradient(to bottom, #444, #222); }
        .modal-visual-card.rare { background: linear-gradient(to bottom, #966700, #4a3400); }
        .modal-visual-card.legendary { background: linear-gradient(to bottom, #FFD700, #FFD700); }
        .modal-visual-card.utility { background: linear-gradient(to bottom, #800080, #3a003a); }
        .modal-visual-card.epic { background: linear-gradient(to bottom, #00FFFF, #00FFFF); }

        .modal-inner { width: 100%; height: 100%; background: #202024; border-radius: 1vh; overflow: hidden; display: flex; flex-direction: column; position: relative; }
        .modal-visual-card.common .modal-inner { border: 1px solid var(--r-common); }
        .modal-visual-card.rare .modal-inner { border: 1px solid var(--r-rare); box-shadow: inset 0 0 15px rgba(255, 170, 0, 0.2); }
        .modal-visual-card.legendary .modal-inner { border: 1px solid var(--r-legendary); box-shadow: inset 0 0 20px rgba(0, 255, 255, 0.3); }
        .modal-visual-card.utility .modal-inner { border: 1px solid var(--r-utility); }

        .modal-art-frame { 
            position: absolute; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            z-index: 0; 
            background: #000; 
            display: flex; justify-content: center; align-items: center; 
        }
        .modal-art-img { 
            width: 100%; height: 100%; 
            object-fit: contain; 
            object-position: center; 
            opacity: 0.9; 
        }

        .modal-header { 
            position: relative; 
            z-index: 2; 
            height: 12%; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            color: #fff; text-transform: uppercase; 
            background: linear-gradient(to bottom, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.5) 100%); 
            backdrop-filter: blur(2px);
            text-shadow: 2px 2px 4px #000;
        }
        .modal-visual-card.common .modal-header { color: #00ffff; font-weight: 900; border-bottom: 10px solid rgb(255, 255, 255); }
        .modal-visual-card.rare .modal-header { color: #00ffff; font-weight: 900; border-bottom: 10px solid rgb(255, 255, 255); }
        .modal-visual-card.legendary .modal-header { color: #ffffff; font-weight: 900; border-bottom: 10px solid rgb(255, 255, 255); }
        .modal-visual-card.epic .modal-header { color: #00ffff; font-weight: 900; border-bottom: 10px solid rgb(255, 255, 255); }
        .modal-visual-card.utility .modal-header { color: #00ffff; font-weight: 900; border-bottom: 10px solid rgb(255, 255, 255); }

        .modal-name { font-family: var(--font-title); font-size: 3vh; font-weight: bold; letter-spacing: 1px; margin-top: -5vh;}
        .modal-stars {position: absolute; font-size: 2vh; color: #ffd700; text-shadow: 1px 1px 2px #000; Top: 3.5vh; }

        .modal-text-area { 
            position: absolute; 
            bottom: 0; left: 0; width: 100%; 
            z-index: 2; 
            display: flex; flex-direction: column; 
            padding: 3vh 1.5vh 1.5vh 1.5vh; 
            gap: 0.5vh; 
            justify-content: flex-end;
            background: linear-gradient(to top, #000 10%, rgba(0,0,0,0.9) 60%, transparent 100%); 
        }

        .modal-stats-row { display: flex; justify-content: space-around; padding-bottom: 0.5vh; border-bottom: 1px solid rgba(255,255,255,0.2); }

        .modal-stat { 
            font-size: 3.5vh; 
            font-weight: bold; 
            font-family: var(--font-title); 
            display: flex; 
            align-items: center; 
            gap: 0.5vh; 
            text-shadow: 2px 2px 0 #000; 
        }

        /* Cores Stats Modal */
        .modal-stats-row .modal-stat:nth-child(1) { color: #ffffff !important; }
        .modal-stats-row .modal-stat:nth-child(2) { color: #ff3333 !important; }
        .modal-stats-row .modal-stat:nth-child(3) { color: #006400 !important; }

        .modal-desc-box { 
            background: rgba(0, 0, 0, 0.6); 
            border: 1px solid rgba(255, 255, 255, 0.15); 
            border-radius: 2px; padding: 2vh; 
            display: flex;
            flex-direction: column;
            align-items: flex-start;  /* Garante o alinhamento √† esquerda */
            justify-content: flex-start; /* Move o conte√∫do para o topo da caixa */
            text-align: left;         /* Alinha as linhas de texto √† esquerda */
            padding: 0.5vh;
            backdrop-filter: blur(4px);
        }
        .modal-label { font-size: 1.2vh; color: #aaa; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .modal-text { 
            font-size: 1.8vh; 
            color: #fff; 
            line-height: 1.1; 
            text-shadow: 1px 1px 2px #000; 
        }
        .modal-subtext {
            position: absolute;
            top: -272%; /* Coloca logo abaixo das estrelas no cabe√ßalho */
            left: 0;
            width: 100%;
            font-size: 1.2vh;
            color: #aaa;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            z-index: 5;
        }

        .modal-actions-panel { width: 25vh; background: rgba(20, 20, 24, 0.9); border: 1px solid #444; border-radius: 12px; padding: 2vh; display: flex; flex-direction: column; justify-content: center; gap: 1.5vh; backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .modal-actions-panel h3 { text-align: center; color: #fff; margin-bottom: 1vh; font-family: var(--font-title); text-transform: uppercase; letter-spacing: 1px; }
        .btn { padding: 1.5vh; border: none; border-radius: 6px; font-family: var(--font-title); font-weight: bold; letter-spacing: 1px; cursor: pointer; transition: transform 0.15s ease, filter 0.15s ease, box-shadow 0.15s ease; font-size: var(--font-sm); color: #fff; text-transform: uppercase; width: 100%; box-shadow: 0 8px 18px rgba(0,0,0,0.4), inset 0 0 0 1px rgba(255,255,255,0.08); }
        .btn:hover:not(:disabled) { transform: translateY(-1px) scale(1.02); filter: brightness(1.1); box-shadow: 0 10px 22px rgba(0,0,0,0.5), 0 0 12px rgba(130,87,230,0.25); }
        .btn:active:not(:disabled) { transform: translateY(0) scale(0.98); filter: brightness(0.95); }
        .btn:disabled { filter: grayscale(0.6) brightness(0.7); box-shadow: none; cursor: not-allowed; }
        .btn:hover { filter: brightness(1.2); transform: translateY(-2px); }
        .btn:disabled { background: #333; color: #666; cursor: not-allowed; transform: none; filter: grayscale(1); }
        .btn-atk { background: var(--danger); }
        .btn-skill { background: var(--primary); }
        .btn-ult { background: linear-gradient(45deg, #ffd700, #ffaa00); color: #000; }
        .btn-cancel { background: #444; }
        .btn-summon { background: var(--secondary); }
        .hud-panel { position: absolute; padding: 1vh 2vh; background: rgba(18, 18, 20, 0.9); border: 1px solid #333; border-radius: 4px; color: #fff; font-family: var(--font-title); letter-spacing: 1px; display: flex; flex-direction: column; gap: 0.5vh; z-index: 50; font-size: var(--font-sm); pointer-events: none; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .hud-panel .hud-pulse {
            animation: hudPulse 0.4s ease;
        }
        @keyframes hudPulse {
            0% { transform: scale(1); color: #fff; }
            50% { transform: scale(1.06); color: var(--gold); }
            100% { transform: scale(1); color: #fff; }
        }
        .sfx-toggle {
            margin-top: 0.6vh;
            padding: 0.4vh 0.8vh;
            font-size: 1.1vh;
            border-radius: 6px;
            border: 1px solid rgba(255,255,255,0.15);
            background: rgba(0,0,0,0.4);
            color: #fff;
            cursor: pointer;
            pointer-events: auto;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
        .sfx-toggle.off { opacity: 0.55; filter: grayscale(1); }
        #hud-opponent { top: 2vh; left: 2vh; border-left: 0.5vh solid var(--danger); pointer-events: auto; }
        #hud-player { bottom: 26vh; left: 2vh; border-left: 0.5vh solid var(--secondary); } 

        #turn-controls { position: absolute; right: 175vh; top: 70%; transform: translateY(-50%); display: flex; flex-direction: column; align-items: center; gap: 1.5vh; z-index: 50; }
        .timer-container { position: relative; width: 14vh; height: 14vh; display: flex; justify-content: center; align-items: center; }
        #timer-svg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; transform: rotate(-90deg); pointer-events: none; }
        .timer-dot { fill: #333; transition: fill 0.2s; }
        .timer-dot.active { fill: var(--gold); filter: drop-shadow(0 0 2px var(--gold)); }
        #btn-pass { width: 8vh; height: 8vh; border-radius: 50%; background: #e1e1e6; color: #121214; font-family: var(--font-title); font-weight: bold; cursor: pointer; border: 3px solid #333; font-size: 1.8vh; z-index: 10; box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        #btn-pass:disabled { background: #333; color: #555; cursor: not-allowed; border-color: #222; }
        #timer { display: none; }

        .floating-text { position: absolute; font-family: var(--font-title); font-size: 6vh; font-weight: 900; color: #000 !important; text-shadow: 0 0 10px #fff, -2px -2px 0 #fff, 2px -2px 0 #fff, -2px 2px 0 #fff, 2px 2px 0 #fff; pointer-events: none; animation: floatUp 1s forwards; z-index: 4000; }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-6vh) scale(1.2); opacity: 0; } }
        .anim-draw { animation: drawFromDeck 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes drawFromDeck { 0% { transform: translate(-40vw, -20vh) rotate(-20deg) scale(0.5); opacity: 0; } 100% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; } }
        .rps-btn { width: 10vh; height: 10vh; font-size: 4vh; cursor: pointer; background: #202024; border: 2px solid #444; border-radius: 50%; margin: 1vh; transition: 0.2s; }
        .rps-btn:hover { background: var(--primary); border-color: #fff; transform: scale(1.1); box-shadow: 0 0 15px var(--primary); }
        #arena-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.92); z-index: 3000; display: none; flex-direction: column; justify-content: center; align-items: center; }
        .arena-content { display: flex; align-items: center; justify-content: space-between; width: 80%; height: 60%; position: relative; }
        .arena-card-slot { width: 35vh; height: 50vh; perspective: 1000px; display: flex; flex-direction: column; align-items: center; }
        .arena-visuals { width: 10vh; display: flex; justify-content: center; align-items: center; position: relative; }
        .arena-ally-glow { box-shadow: 0 0 25px var(--neon-cyan); border-color: var(--neon-cyan) !important; }
        .arena-enemy-glow { box-shadow: 0 0 25px var(--neon-red); border-color: var(--neon-red) !important; }
        .board-projectile { position: fixed; width: 3vh; height: 3vh; background: #fff; border-radius: 50%; box-shadow: 0 0 15px #fff, 0 0 30px var(--primary); z-index: 2500; pointer-events: none; transition: top 0.8s linear, left 0.8s linear, transform 0.2s ease-out, opacity 0.2s; }
        /* --- MELEE SWORD VFX (Board + Arena) --- */

        /* --- MELEE SWORD VFX (Board + Arena) --- */
        .board-projectile.melee-sword{
            width: 12vh;
            height: 2.6vh;
            background: transparent;
            border-radius: 0;
            box-shadow: none;
            transform-origin: 18% 50%;
            /* no spin during flight */
            animation: none;
            /* directional 3D tilt; angle injected via --angle */
            transform: translate(-50%, -50%) rotateZ(var(--angle, 0deg)) rotateX(22deg) rotateY(-18deg);
            filter:
                drop-shadow(0 8px 14px rgba(0,0,0,0.55))
                drop-shadow(0 0 10px rgba(0, 255, 255, 0.55))
                drop-shadow(0 0 18px rgba(0, 255, 255, 0.35));
        }
        .board-projectile.melee-sword::before{
            content:"";
            position:absolute;
            left: 2.0vh;
            top: 50%;
            width: 9.2vh;
            height: 0.85vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg,
                rgba(245,255,255,0.98),
                rgba(140,255,255,0.92),
                rgba(245,255,255,0.98)
            );
            border-radius: 0.45vh;
            box-shadow:
                0 0 10px rgba(0,255,255,0.75),
                0 0 18px rgba(0,255,255,0.55),
                0 0 28px rgba(0,255,255,0.35);
        }
        /* Glow ‚Äúaura‚Äù around blade */
        .board-projectile.melee-sword::after{
            content:"";
            position:absolute;
            left: 0;
            top: 50%;
            width: 2.2vh;
            height: 1.25vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg, #1b1b1e, #3a3a46);
            border-radius: 0.55vh;
            box-shadow:
                0 0 8px rgba(0,255,255,0.35),
                0 0 14px rgba(0,255,255,0.22);
        }

        /* Slash phase (after arrival) */
        .board-projectile.melee-sword.slash{
            animation: meleeSwordSlash 190ms ease-in-out 1;
        }
        @keyframes meleeSwordSlash{
            0%   { transform: translate(-50%, -50%) rotateZ(var(--angle, 0deg)) rotateX(22deg) rotateY(-18deg) scale(1); filter: blur(0); }
            45%  { transform: translate(-50%, -50%) rotateZ(calc(var(--angle, 0deg) - 90deg)) rotateX(26deg) rotateY(-10deg) scale(1.06); filter: blur(0.6px); }
            100% { transform: translate(-50%, -50%) rotateZ(var(--angle, 0deg)) rotateX(22deg) rotateY(-18deg) scale(1); filter: blur(0); }
        }

        .melee-slash-line{
            position: fixed;
            width: 14vh;
            height: 0.55vh;
            background: rgba(140,255,255,0.95);
            border-radius: 1vh;
            pointer-events: none;
            z-index: 3600;
            opacity: 0;
            filter:
                drop-shadow(0 0 10px rgba(0,255,255,0.75))
                drop-shadow(0 0 18px rgba(0,255,255,0.45));
            transform: translate(-50%, -50%) rotateZ(var(--slash-angle, -25deg));
            animation: meleeSlashLinePop 210ms ease-out 1;
        }
        @keyframes meleeSlashLinePop{
            0%   { opacity: 0; transform: translate(-50%, -50%) rotateZ(var(--slash-angle, -25deg)) scaleX(0.6); }
            40%  { opacity: 1; transform: translate(-50%, -50%) rotateZ(var(--slash-angle, -25deg)) scaleX(1.05); }
            100% { opacity: 0; transform: translate(-50%, -50%) rotateZ(var(--slash-angle, -25deg)) scaleX(1.15); }
        }
100% { transform: rotateZ(720deg) rotateX(22deg) rotateY(-18deg); }
        }


        .arena-sword-vfx{
            position: fixed;
            width: 24vh;
            height: 4.2vh;
            pointer-events: none;
            z-index: 3500;
            transform-origin: 18% 50%;
            filter:
                drop-shadow(0 12px 18px rgba(0,0,0,0.6))
                drop-shadow(0 0 12px rgba(0,255,255,0.6))
                drop-shadow(0 0 26px rgba(0,255,255,0.35));
        }
        .arena-sword-vfx::before{
            content:"";
            position:absolute;
            left: 4.2vh;
            top: 50%;
            width: 18.5vh;
            height: 1.15vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg,
                rgba(245,255,255,0.98),
                rgba(140,255,255,0.92),
                rgba(245,255,255,0.98)
            );
            border-radius: 0.6vh;
            box-shadow:
                0 0 12px rgba(0,255,255,0.85),
                0 0 22px rgba(0,255,255,0.55),
                0 0 36px rgba(0,255,255,0.35);
        }
        .arena-sword-vfx::after{
            content:"";
            position:absolute;
            left: 0;
            top: 50%;
            width: 3.2vh;
            height: 1.7vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg, #1b1b1e, #3a3a46);
            border-radius: 0.85vh;
            box-shadow:
                0 0 10px rgba(0,255,255,0.35),
                0 0 16px rgba(0,255,255,0.22);
        }

        /* --- Arena VFX Layer (must stay above duel cards) --- */
        #arena-overlay{ position: fixed; }
        #arena-vfx-layer{
            position:absolute;
            inset:0;
            z-index: 99999;
            pointer-events:none;
        }
        /* Ensure arena cards stay below the VFX layer */
        #arena-overlay .arena-content,
        #arena-overlay #arena-log,
        #arena-overlay #arena-ok-btn{
            position: relative;
            z-index: 10;
        }

        /* --- Arena Sword Slash VFX (cyan glowing blade, 2x board sword) --- */
        .arena-sword-slash{
            position: fixed;
            width: 24vh;
            height: 6.0vh;
            pointer-events:none;
            z-index: 100000;
            transform-origin: 22% 70%; /* near the hilt */
            filter:
                drop-shadow(0 14px 20px rgba(0,0,0,0.65))
                drop-shadow(0 0 18px rgba(0,255,255,0.90))
                drop-shadow(0 0 34px rgba(0,255,255,0.55))
                drop-shadow(0 0 60px rgba(0,255,255,0.32));
        }
        .arena-sword-slash::before{
            content:"";
            position:absolute;
            left: 4.2vh;
            top: 50%;
            width: 18.6vh;
            height: 1.55vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg,
                rgba(0,255,255,0.85),
                rgba(240,255,255,0.98),
                rgba(0,255,255,0.90)
            );
            /* sword blade with pointed tip */
            clip-path: polygon(0% 22%, 92% 22%, 100% 50%, 92% 78%, 0% 78%);
            border-radius: 0.7vh;
            box-shadow:
                0 0 16px rgba(0,255,255,1.0),
                0 0 30px rgba(0,255,255,0.65),
                0 0 52px rgba(0,255,255,0.40);
        }
        .arena-sword-slash::after{
            content:"";
            position:absolute;
            left: 0.6vh;
            top: 50%;
            width: 3.6vh;
            height: 2.0vh;
            transform: translateY(-50%);
            background: linear-gradient(90deg, #101013, #3a3a46);
            border-radius: 1.0vh;
            box-shadow:
                0 0 12px rgba(0,255,255,0.40),
                0 0 18px rgba(0,255,255,0.22);
        }
        .arena-sword-slash .arena-sword-guard{
            position:absolute;
            left: 3.1vh;
            top: 50%;
            width: 1.4vh;
            height: 2.8vh;
            transform: translate(-50%, -50%);
            background: linear-gradient(180deg, #2b2b33, #0f0f12);
            border-radius: 0.6vh;
            box-shadow: 0 0 14px rgba(0,255,255,0.22);
        }

        .arena-slice-flash{
            position: fixed;
            width: 10vh;
            height: 0.6vh;
            background: rgba(255,255,255,0.9);
            border-radius: 0.6vh;
            pointer-events: none;
            z-index: 3499;
            filter: blur(0.2vh);
            opacity: 0;
            animation: arenaSliceFlash 260ms ease-out forwards;
        }
        @keyframes arenaSliceFlash{
            0% { transform: scaleX(0.3); opacity: 0; }
            30% { transform: scaleX(1); opacity: 0.95; }
            100% { transform: scaleX(1.3); opacity: 0; }
        }

        @keyframes arenaSlideLeft { from { transform: translateX(-100vw); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes arenaSlideRight { from { transform: translateX(100vw); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        #arena-attacker { animation: arenaSlideLeft 0.5s ease-out; }
        #arena-target { animation: arenaSlideRight 0.5s ease-out; }
        .arena-card-display { width: 100%; height: 100%; background: #1e1e24; border: 3px solid #555; border-radius: 1.5vh; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(0,0,0,0.7); }
        .arena-card-display img { width: 100%; height: 60%; object-fit: cover; }
        .arena-card-info { padding: 1vh; color: #fff; text-align: center; }
        .arena-hp-bar { width: 90%; height: 2vh; background: #333; margin-top: 1vh; border-radius: 1vh; overflow: hidden; border: 1px solid #000; }
        .arena-hp-fill { height: 100%; background: var(--secondary); transition: width 0.2s linear; width: 100%; }
        .effect-overlay { position: absolute; top: 50%; left: 50%; width: 20vh; height: 20vh; pointer-events: none; transform: translate(-50%, -50%); z-index: 3001; opacity: 1; }
        #arena-log { margin-top: 2vh; font-family: 'Courier New', monospace; color: var(--gold); font-size: 2vh; height: 4vh; text-shadow: 1px 1px 0 #000; }
        #arena-ok-btn { margin-top: 2vh; padding: 1.5vh 5vh; font-size: 2.5vh; background: var(--primary); color: #fff; border: none; border-radius: 0.5vh; font-family: var(--font-title); cursor: pointer; box-shadow: 0 0 20px rgba(130, 87, 230, 0.5); transition: 0.2s; }
        #arena-ok-btn:hover { transform: scale(1.1); filter: brightness(1.2); }


/* === Skill VFX: Blue Hadouken (global, board + arena) === */
#global-vfx-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:999999; /* above board + HUD */
}
.hadouken{
  position:fixed;
  width:52px;
  height:52px;
  border-radius:999px;
  transform:translate(-50%,-50%);
  opacity:0.98;
  z-index:1000000;
  pointer-events:none;
  background:
    radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95) 0%, rgba(210,250,255,0.95) 18%, rgba(40,220,255,0.95) 42%, rgba(0,140,255,0.75) 66%, rgba(0,90,220,0.0) 78%);
  box-shadow:
    0 0 14px rgba(50,230,255,0.85),
    0 0 28px rgba(0,190,255,0.70),
    0 0 46px rgba(0,120,255,0.45);
  filter: drop-shadow(0 0 10px rgba(70,240,255,0.9)) drop-shadow(0 0 18px rgba(0,190,255,0.7));
}
.hadouken::before{
  content:"";
  position:absolute;
  inset:-8px;
  border-radius:inherit;
  background: radial-gradient(circle at 45% 45%, rgba(120,255,255,0.35), rgba(0,170,255,0.0) 70%);
  filter: blur(1.2px);
  opacity:0.9;
  animation: hadoukenPulse 220ms ease-in-out infinite alternate;
}
.hadouken::after{
  /* subtle spinning energy ring */
  content:"";
  position:absolute;
  inset:-10px;
  border-radius:inherit;
  background:
    conic-gradient(from 0deg, rgba(0,255,255,0.00) 0deg, rgba(0,255,255,0.32) 70deg, rgba(255,255,255,0.12) 120deg, rgba(0,255,255,0.00) 220deg, rgba(0,255,255,0.25) 290deg, rgba(0,255,255,0.00) 360deg);
  filter: blur(2px);
  opacity:0.75;
  animation: hadoukenSpin 320ms linear infinite;
}
@keyframes hadoukenPulse{
  from{ transform:scale(0.98); opacity:0.75; }
  to{ transform:scale(1.06); opacity:1; }
}
@keyframes hadoukenSpin{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}
.hadouken-trail{
  position:fixed;
  width:10px;
  height:10px;
  border-radius:999px;
  transform:translate(-50%,-50%);
  pointer-events:none;
  z-index:999999;
  background: radial-gradient(circle, rgba(140,255,255,0.75), rgba(0,170,255,0.0) 70%);
  box-shadow: 0 0 10px rgba(0,220,255,0.7);
  opacity:0.65;
  filter: blur(0.6px);
}
.hadouken-impact-flash{
  position:fixed;
  width:120px;
  height:120px;
  border-radius:999px;
  transform:translate(-50%,-50%);
  pointer-events:none;
  z-index:1000001;
  background: radial-gradient(circle, rgba(255,255,255,0.70) 0%, rgba(80,245,255,0.55) 28%, rgba(0,190,255,0.25) 55%, rgba(0,120,255,0.00) 75%);
  box-shadow: 0 0 20px rgba(60,240,255,0.8), 0 0 38px rgba(0,190,255,0.65);
  opacity:0;
}
